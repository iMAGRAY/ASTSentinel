<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="260" viewBox="0 0 1000 260" role="img" aria-label="AST Sentinel Workflow" shape-rendering="geometricPrecision" text-rendering="optimizeLegibility">
  <title>AST Sentinel — Workflow</title>
  <desc>PreToolUse → Tools → PostToolUse → UserPromptSubmit</desc>
  <rect width="1000" height="260" rx="12" fill="#FFFFFF"/>

  <g fill="#FFFFFF" stroke="#9CA3AF" stroke-width="2">
    <rect x="28" y="60" width="220" height="140" rx="10"/>
    <rect x="268" y="60" width="220" height="140" rx="10"/>
    <rect x="508" y="60" width="220" height="140" rx="10"/>
    <rect x="748" y="60" width="220" height="140" rx="10"/>
  </g>
  <g font-family="Arial, Helvetica, sans-serif" font-size="16" fill="#1F2937">
    <text x="48" y="90">PreToolUse</text>
    <text x="288" y="90">Tools</text>
    <text x="528" y="90">PostToolUse</text>
    <text x="768" y="90">UserPromptSubmit</text>
  </g>
  <g font-family="Courier New, Consolas, monospace" font-size="13" fill="#374151">
    <text x="48" y="116">deny: stub/illusion/unsafe</text>
    <text x="48" y="136">allow: tests/fixtures</text>
    <text x="48" y="156">contract‑check: signatures</text>

    <text x="288" y="116">edit/apply changes</text>
    <text x="288" y="136">tools run locally</text>

    <text x="528" y="116">diff + AST context</text>
    <text x="528" y="136">risk report + tips</text>
    <text x="528" y="156">timings/budgets (opt‑in)</text>

    <text x="768" y="116">project snapshot</text>
    <text x="768" y="136">deps + duplicates</text>
  </g>

  <g stroke="#2563EB" stroke-width="3" fill="none" stroke-linecap="round">
    <path d="M248,130h20"/>
  </g>
  <g stroke="#10B981" stroke-width="3" fill="none" stroke-linecap="round">
    <path d="M488,130h20"/>
    <path d="M728,130h20"/>
  </g>

  <g font-family="Courier New, Consolas, monospace" font-size="12" fill="#374151">
    <text x="48" y="208">AST_ONLY=1 • DRY_RUN=1 • AST_TIMINGS=1 • PERF_GATE_STRICT=1</text>
  </g>
</svg>
