{"session_id":"1e20a740-e5da-4bb0-b103-b33f96a4b9a2","transcript_path":"C:\\Users\\1\\.claude\\projects\\C--Users-1-Documents-GitHub-ValidationCodeHook\\1e20a740-e5da-4bb0-b103-b33f96a4b9a2.jsonl","cwd":"C:\\Users\\1\\Documents\\GitHub\\ValidationCodeHook","permission_mode":"bypassPermissions","hook_event_name":"PostToolUse","tool_name":"Write","tool_input":{"file_path":"C:\\Users\\1\\Documents\\GitHub\\ValidationCodeHook\\setup_python_path.ps1","content":"$pythonBase = 'C:\\Users\\1\\AppData\\Local\\Programs\\Python\\Python313'\n$pythonScripts = 'C:\\Users\\1\\AppData\\Local\\Programs\\Python\\Python313\\Scripts'\n\nfunction Normalize([string]$p){\n    ($p.Trim().TrimEnd('\\')).ToLowerInvariant()\n}\n\nfunction Reorder-Path([string]$path){\n    $parts=@()\n    $winApps=@()\n    $seen=[Collections.Generic.HashSet[string]]::new()\n    \n    foreach($raw in ($path -split ';')){\n        $p=$raw.Trim()\n        if(!$p){continue}\n        $n=Normalize $p\n        if(!$n -or $seen.Contains($n)){continue}\n        $null=$seen.Add($n)\n        if($n -like '*\\microsoft\\windowsapps*'){\n            $winApps+=$p\n        }else{\n            $parts+=$p\n        }\n    }\n    \n    $prepend=@()\n    if(!$seen.Contains((Normalize $pythonBase))){\n        $prepend+=$pythonBase\n    }\n    if(!$seen.Contains((Normalize $pythonScripts))){\n        $prepend+=$pythonScripts\n    }\n    \n    (@($prepend)+$parts+$winApps) -join ';'\n}\n\n# Update user PATH\n$userKey = 'HKCU:\\Environment'\n$userPath = (Get-ItemProperty $userKey -ErrorAction SilentlyContinue).Path\n\nWrite-Host \"Current User PATH:\" -ForegroundColor Cyan\nWrite-Host $userPath\nWrite-Host \"\"\n\n$newUserPath = Reorder-Path $userPath\n\nif($newUserPath -ne $userPath){\n    Set-ItemProperty -Path $userKey -Name Path -Value $newUserPath\n    Write-Host \"User PATH updated successfully!\" -ForegroundColor Green\n    Write-Host \"\"\n    Write-Host \"New User PATH:\" -ForegroundColor Cyan\n    Write-Host $newUserPath\n}else{\n    Write-Host \"User PATH already has Python 3.13 properly configured.\" -ForegroundColor Yellow\n}\n\nWrite-Host \"\"\nWrite-Host \"Python 3.13 paths are now prioritized in your PATH environment variable.\" -ForegroundColor Green\nWrite-Host \"You may need to restart your terminal for changes to take effect.\" -ForegroundColor Yellow"},"tool_response":{"type":"create","filePath":"C:\\Users\\1\\Documents\\GitHub\\ValidationCodeHook\\setup_python_path.ps1","content":"$pythonBase = 'C:\\Users\\1\\AppData\\Local\\Programs\\Python\\Python313'\n$pythonScripts = 'C:\\Users\\1\\AppData\\Local\\Programs\\Python\\Python313\\Scripts'\n\nfunction Normalize([string]$p){\n    ($p.Trim().TrimEnd('\\')).ToLowerInvariant()\n}\n\nfunction Reorder-Path([string]$path){\n    $parts=@()\n    $winApps=@()\n    $seen=[Collections.Generic.HashSet[string]]::new()\n    \n    foreach($raw in ($path -split ';')){\n        $p=$raw.Trim()\n        if(!$p){continue}\n        $n=Normalize $p\n        if(!$n -or $seen.Contains($n)){continue}\n        $null=$seen.Add($n)\n        if($n -like '*\\microsoft\\windowsapps*'){\n            $winApps+=$p\n        }else{\n            $parts+=$p\n        }\n    }\n    \n    $prepend=@()\n    if(!$seen.Contains((Normalize $pythonBase))){\n        $prepend+=$pythonBase\n    }\n    if(!$seen.Contains((Normalize $pythonScripts))){\n        $prepend+=$pythonScripts\n    }\n    \n    (@($prepend)+$parts+$winApps) -join ';'\n}\n\n# Update user PATH\n$userKey = 'HKCU:\\Environment'\n$userPath = (Get-ItemProperty $userKey -ErrorAction SilentlyContinue).Path\n\nWrite-Host \"Current User PATH:\" -ForegroundColor Cyan\nWrite-Host $userPath\nWrite-Host \"\"\n\n$newUserPath = Reorder-Path $userPath\n\nif($newUserPath -ne $userPath){\n    Set-ItemProperty -Path $userKey -Name Path -Value $newUserPath\n    Write-Host \"User PATH updated successfully!\" -ForegroundColor Green\n    Write-Host \"\"\n    Write-Host \"New User PATH:\" -ForegroundColor Cyan\n    Write-Host $newUserPath\n}else{\n    Write-Host \"User PATH already has Python 3.13 properly configured.\" -ForegroundColor Yellow\n}\n\nWrite-Host \"\"\nWrite-Host \"Python 3.13 paths are now prioritized in your PATH environment variable.\" -ForegroundColor Green\nWrite-Host \"You may need to restart your terminal for changes to take effect.\" -ForegroundColor Yellow","structuredPatch":[]}}